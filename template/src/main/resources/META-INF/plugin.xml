<!-- 插件配置文件。更多信息：https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <!-- 插件的唯一标识符。应该是完全限定名。在插件版本之间不能更改。 -->
    <id>com.example.plugin</id>

    <!-- 公共插件名称应使用标题大小写书写。
         指南：https://plugins.jetbrains.com/docs/marketplace/plugin-overview-page.html#plugin-name -->
    <name>Example Plugin</name>

    <!-- 在插件页面上显示的供应商名称或组织ID。 -->
    <vendor email="example@example.com">Example</vendor>

    <!-- 在插件页面和IDE插件管理器中显示的插件描述。
         可以在 <![CDATA[ ]]> 标签内添加简单的HTML元素（文本格式、段落和列表）。
         指南：https://plugins.jetbrains.com/docs/marketplace/plugin-overview-page.html#plugin-description -->
    <description><![CDATA[
        <h2>Example Plugin</h2>
        <p>这是一个 IntelliJ IDEA 插件开发模板，提供了基础的插件开发结构和示例代码。</p>

        <h3>功能特性</h3>
        <ul>
            <li><b>基础 Action</b>：提供快捷键和菜单项示例</li>
            <li><b>设置面板</b>：可配置的插件设置界面</li>
            <li><b>服务层</b>：插件核心业务逻辑</li>
            <li><b>工具类</b>：常用的工具方法</li>
            <li><b>国际化支持</b>：多语言资源文件</li>
        </ul>

        <h3>使用方式</h3>
        <ul>
            <li>快捷键：Ctrl+Shift+E (Windows/Linux) 或 Cmd+Shift+E (Mac)</li>
            <li>编辑器右键菜单 → Example Action</li>
            <li>项目视图右键菜单 → Example Action</li>
        </ul>

        <h3>配置说明</h3>
        <p>配置路径：Settings → Tools → Example Plugin</p>
        <ul>
            <li>基础配置选项</li>
            <li>高级设置</li>
        </ul>
    ]]></description>

    <!-- 产品和插件兼容性要求。
         更多信息：https://plugins.jetbrains.com/docs/intellij/plugin-compatibility.html -->
    <idea-version since-build="223" until-build="999.*"/>
    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.modules.java</depends>

    <!-- 国际化资源文件 -->
    <resource-bundle>messages</resource-bundle>

    <!-- 插件定义的扩展点。
         更多信息：https://plugins.jetbrains.com/docs/intellij/plugin-extension-points.html -->
    <extensions defaultExtensionNs="com.intellij">
        <!-- 配置持久化 -->
        <applicationService serviceImplementation="com.example.plugin.settings.SettingsState"/>

        <!-- 设置面板 -->
        <projectConfigurable
                parentId="tools"
                instance="com.example.plugin.settings.ExampleSettingsConfigurable"
                id="com.example.plugin.settings.ExampleSettingsConfigurable"
                displayName="Example Plugin"/>

        <!-- 通知组 -->
        <notificationGroup id="Example Plugin Notifications"
                           displayType="BALLOON"
                           isLogByDefault="true"/>

        <!-- Intention Action (Option+Enter / Alt+Enter 快捷菜单) -->
        <intentionAction>
            <language>JAVA</language>
            <className>com.example.plugin.action.ExampleIntentionAction</className>
            <category>Example Plugin</category>
            <descriptionDirectoryName>ExampleIntention</descriptionDirectoryName>
        </intentionAction>
    </extensions>

    <!-- 插件定义的动作 -->
    <actions>
        <!-- 快捷键入口 (Ctrl+Shift+E / Cmd+Shift+E) -->
        <action id="com.example.plugin.action.ExampleShortcutAction"
                class="com.example.plugin.action.ExampleShortcutAction">
            <keyboard-shortcut keymap="$default" first-keystroke="shift ctrl E"/>
        </action>

        <!-- 编辑器右键菜单 -->
        <action id="com.example.plugin.action.ExampleFileAction"
                class="com.example.plugin.action.ExampleFileAction"
                icon="AllIcons.Actions.IntentionBulb">
            <add-to-group group-id="EditorPopupMenu" anchor="last"/>
        </action>

        <!-- 项目视图右键菜单 -->
        <action id="com.example.plugin.action.ExampleSelectionAction"
                class="com.example.plugin.action.ExampleSelectionAction"
                icon="AllIcons.Actions.IntentionBulb">
            <add-to-group group-id="ProjectViewPopupMenu" anchor="last"/>
        </action>
    </actions>
</idea-plugin>
